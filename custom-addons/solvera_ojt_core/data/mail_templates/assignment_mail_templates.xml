<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Email new assignment -->
    <record id="mail_template_new_assignment" model="mail.template">
        <field name="name">OJT New Assignment Notification</field>
        <field name="model_id" ref="solvera_ojt_core.model_ojt_assignment"/>
        <field name="subject">Tugas Baru: {{ object.name }} - {{ object.batch_id.name }}</field>
        <field name="email_to">{{ user.email }}</field>
        <field name="body_html" type="html">
            <div style="margin: 0px; padding: 0px; font-family: 'Lucica Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px;">
                <p>Halo <span t-out="ctx.get('participant_name') or ''"></span>,</p>
                
                <p>
                    Anda mendapatkan tugas baru dalam program OJT <strong><span t-field="object.batch_id.name"></span></strong>.
                </p>
                <p>
                    <strong>Judul Tugas:</strong> <span t-field="object.name"/><br/>
                    <strong>Tenggat Waktu:</strong> <span t-field="object.deadline" t-options='{"widget": "datetime"}'/>
                </p>
                
                <p>
                    Silakan lihat detail lengkap dan instruksi pengerjaan tugas melalui portal OJT Anda.
                </p>
                
                <div style="margin: 20px 0;">
                    <a t-att-href="ctx.get('url_portal_assignment')"
                        style="background-color: #875A7B; padding: 10px 20px; color: #fff; text-decoration: none; border-radius: 5px;">
                        Lihat Detail Tugas
                    </a>
                </div>

                <p>Mohon selesaikan tugas sebelum tenggat waktu yang ditentukan.</p>
                
                <p>Terima kasih,</p>
                <p>Tim OJT</p>
            </div>
        </field>
        <field name="auto_delete" eval="True"/>
    </record>

    <!-- Email assignment scored -->
    <record id="mail_template_assignment_scored" model="mail.template">
        <field name="name">OJT: Assignment Scored Notification</field>
        <field name="model_id" ref="solvera_ojt_core.model_ojt_assignment_submit"/>
        <field name="subject">Tugas Anda Telah Dinilai: {{ object.assignment_id.name }}</field>
        <field name="email_to">{{ object.participant_id.partner_id.email_formatted }}</field>
        <field name="body_html" type="html">
            <div style="margin: 0px; padding: 0px; font-family: 'Lucica Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px;">
                <p>Halo <span t-out="object.participant_id.partner_id.name or ''"></span>,</p>
                
                <p>
                    Tugas Anda untuk <strong><span t-field="object.assignment_id.name"></span></strong> telah dinilai.
                </p>
                
                <div style="margin: 16px 0; padding: 10px; border-left: 3px solid #875A7B; background-color: #f9f9f9;">
                    <strong>Nilai Anda:</strong>
                    <h2 style="margin: 0;"><span t-field="object.score"/> / <span t-field="object.assignment_id.max_score"/></h2>
                    <br/>
                    <strong>Feedback dari Mentor:</strong>
                    <div t-field="object.feedback"/>
                </div>
                
                <p>
                    Anda dapat melihat detail lengkapnya melalui portal OJT.
                </p>
                
                <div style="margin: 20px 0;">
                    <a t-att-href="ctx.get('url_portal_submission')"
                        style="background-color: #875A7B; padding: 10px 20px; color: #fff; text-decoration: none; border-radius: 5px;">
                        Lihat Detail Pengumpulan Tugas
                    </a>
                </div>

                <p>Terus tingkatkan performa Anda!</p>
                
                <p>Terima kasih,</p>
                <p>Tim OJT</p>
            </div>
        </field>
        <field name="auto_delete" eval="True"/>
    </record>

</odoo>